<!DOCTYPE html>
<html>
<head>
	<title>pidgin basic</title>
	<script src="../lib/platform/platform.js"></script>
	<script src="../node_modules/intern/node_modules/dojo/dojo.js"></script>
	<script type="text/javascript">
	require({
		baseUrl: '..',
		packages: [{
			name: 'core',
			location: 'lib/core'
		}, {
			name: 'pidgin',
			location: '.'
		}]
	},[
		'pidgin/Widget',
		'pidgin/tailor',
		'core/dom',
		'pidgin/tmpl!./examples/resources/ButtonWidget.html',
		'pidgin/tmpl!./examples/resources/ListWidget.html'
	], function (Widget, tailor, dom, tmplButtonWidget, tmplListWidget) {
		var ButtonWidget = tailor(Widget, {
			declaredClass: 'pidgin/ButtonWidget',
			customTag: 'pd-button-widget',
			template: tmplButtonWidget,
			label: ''
		});

		var ListWidget = tailor(Widget, {
			declaredClass: 'pidgin/ListWidget',
			customTag: 'pd-list-widget',
			template: tmplListWidget,
			items: []
		});

		var list1 = new ListWidget({
			id: 'list1',
			items: [{
				label: 'Bill'
			}, {
				label: 'Ben'
			}, {
				label: 'Kris'
			}, {
				label: 'Eugene'
			}]
		}, 'swap');

		var button1 = dom.get('button1');
		button1.label = 'Click Me!';
		button1.on('click', function () {
			list1.items.push(list1.items.shift());
			Platform.performMicrotaskCheckpoint();
		});

		/* needed for browsers without Object.observe() */
		Platform.performMicrotaskCheckpoint();
	});
	</script>
</head>
<body>
	<h1>pidgin basic</h1>
	<pd-button-widget id="button1"></pd-button-widget>
	<div id="swap"></div>
</body>
</html>	